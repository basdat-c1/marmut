{% extends 'base.html' %}

{% block title %}Tambah Lagu{% endblock title %}

{% block content %}

<div>
    <h1 class="text-center mb-5">Tambah Lagu</h1> 

    <div class="d-flex justify-content-center mb-3">
        <form method="POST" action="#" id="add-song-form">
            {% csrf_token %}
            <table class="mb-3">
                <tr>
                    <td style="width: 60px;">
                        <p class="fs-5 mb-0"><b>Lagu: </b></p>
                    </td>
                    <td>
                        <select name="lagu_dropdown" id="lagu-dropdown" class="form-select form-select-sm" style="min-width: max-content;" required>
                            <option value="" selected disabled>Choose Lagu</option>
                            {% for lagu in data_lagu %}
                                <option value="{{lagu.id}}">{{lagu.judul}} - {{lagu.artist}}</option>
                            {% endfor %}
                        </select>
                    </td>
                </tr>
            </table>
            <div class="text-center">
                <input class="btn btn-secondary" type="submit" value="Submit" style="width: 100px;">
            </div>
        </form>
    </div>
</div>

<script>
    document.getElementById('add-song-form').addEventListener('submit', function(event) {
        var dropdown = document.getElementById('lagu-dropdown');
        var selectedLaguId = dropdown.value;

        var actionUrl = `${selectedLaguId}/`;
        this.action = actionUrl;
    });
</script>

{% endblock content %}
